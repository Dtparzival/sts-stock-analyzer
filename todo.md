# 美股投資分析平台 TODO

## 核心功能

- [x] 股票搜尋功能
  - [x] 股票代碼搜尋
  - [x] 公司名稱搜尋
  - [x] 搜尋結果展示

- [x] 股票資訊展示
  - [x] 即時股價資訊
  - [x] 歷史價格圖表
  - [x] 公司基本資料
  - [x] 財務指標

- [x] 投資分析功能
  - [x] 技術分析指標
  - [x] 基本面分析
  - [x] AI 驅動的投資建議
  - [x] 風險評估

- [x] 未來趨勢預測
  - [x] 價格趨勢預測
  - [x] 市場情緒分析
  - [x] 行業比較分析

- [x] 用戶功能
  - [x] 收藏股票列表
  - [x] 個人投資組合追蹤
  - [x] 歷史查詢記錄

## 技術實作

- [x] 整合股票數據API
- [x] 設計資料庫架構
- [x] 實作後端 tRPC procedures
- [x] 設計前端 UI/UX
- [x] 實作圖表視覺化
- [x] 整合 LLM 進行分析析

## 優化與測試

- [x] 效能優化
- [x] 錯誤處理
- [x] 響應式設計
- [x] 跨瀏覽器測試

## 新增功能：互動式股價走勢圖

- [x] 安裝 Recharts 圖表庫
- [x] 創建股價走勢圖表組件
- [x] 實作多時間範圍切換（1天、5天、1個月、3個月、1年、5年）
- [x] 整合圖表到股票詳情頁面
- [x] 添加圖表互動功能（懸停顯示數據點）
- [x] 優化圖表載入狀態和錯誤處理
- [x] 測試圖表在不同時間範圍的顯示效果

## 新增功能：自訂日期範圍查詢

- [x] 安裝日期選擇器組件庫
- [x] 創建日期範圍選擇器UI
- [x] 實作日期驗證邏輯（起始日期不能晚於結束日期）
- [x] 整合日期選擇器到股價圖表組件
- [x] 更新後端API支援自訂日期範圍查詢
- [x] 添加日期格式化和顯示
- [x] 測試不同日期範圍的查詢功能

## 新增功能：主題調整與功能完善

### 淺色主題
- [x] 更新 App.tsx 主題設定為 light
- [x] 調整 index.css 淺色主題配色
- [x] 測試所有頁面在淺色主題下的顯示效果

### 投資組合功能完善
- [x] 設計投資組合資料庫表結構
- [x] 實作新增持股功能（股票代碼、購買價格、數量、購買日期）
- [x] 實作編輯持股功能（可通過刪除再新增實現）
- [x] 實作刪除持股功能
- [x] 計算投資組合總價值和損益
- [x] 顯示每支股票的當前價格和損益百分比
- [x] 添加投資組合圖表視覺化

### AI 投資顧問
- [x] 整合 AIChatBox 組件
- [x] 創建 AI 顧問頁面或側邊欄
- [x] 實作後端 LLM 整合處理用戶提問
- [x] 支援股票相關問題回答
- [x] 測試 AI 對話功能（需要用戶登入）
